
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-03-18
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Validation - HAPI FHIR</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta name="author" content="James Agnew" />
		<meta http-equiv="content-language" content="en" />

		<link href="https://netdna.bootstrapcdn.com/bootswatch/2.3.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />


		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<script src="syntaxhighlighter/shCore.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJScript.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJava.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushBash.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushXml.js" type="text/javascript"></script>
<link rel="stylesheet" href="syntaxhighlighter/shCore.css" type="text/css"/>
<link rel="stylesheet" href="syntaxhighlighter/shThemeDefault.css" type="text/css"/>
<link rel="shortcut icon" href="http://hapifhir.io/favicon.png"/>
<link rel="stylesheet" href="hapi.css" type="text/css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
	</head>

	<body class="page-doc_validation project-hapi-fhir" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://hapifhir.io/"><span class="color-highlight">HAPI</span> FHIR</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="https://smilecdr.com/" title="Support" class="externalLink">Support</a></li>
							<li ><a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a></li>
							<li ><a href="https://github.com/jamesagnew/hapi-fhir/" title="GitHub Project"  class="externalLink"><i class="fa fa-github"></i> GitHub Project</a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i>&nbsp;Documentation&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="docindex.html" title="Documentation Index">Documentation Index</a></li>
									<li ><a href="doc_intro.html" title="Introduction">Introduction</a></li>
									<li ><a href="doc_dstu2.html" title="DSTU3 Support / HL7.org Structures">DSTU3 Support / HL7.org Structures</a></li>
									<li class="dropdown-submenu ">
										<a href="doc_fhirobjects.html" title="The Data Model">The Data Model</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_fhirobjects.html" title="Working with Resources">Working with Resources</a></li>
											<li ><a href="doc_resource_references.html" title="Resource References">Resource References</a></li>
											<li ><a href="doc_extensions.html" title="Profiles & Extensions">Profiles & Extensions</a></li>
											<li ><a href="doc_tags.html" title="Tags">Tags</a></li>
											<li class="active"><a href="" title="Validation">Validation</a></li>
											<li ><a href="doc_custom_structures.html" title="Custom Structures">Custom Structures</a></li>
											<li ><a href="doc_converter.html" title="Version Converter">Version Converter</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_client.html" title="RESTful Client">RESTful Client</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_client.html" title="Fluent/Generic Client">Fluent/Generic Client</a></li>
											<li ><a href="doc_rest_client_annotation.html" title="Annotation Client">Annotation Client</a></li>
											<li ><a href="doc_rest_client_interceptor.html" title="Interceptors (client)">Interceptors (client)</a></li>
											<li ><a href="doc_rest_client_http_config.html" title="Client Configuration">Client Configuration</a></li>
											<li ><a href="doc_rest_client_examples.html" title="Client Examples">Client Examples</a></li>
											<li ><a href="doc_rest_client_alternate_provider.html" title="JAX-RS Client & Alternate HTTP Providers">JAX-RS Client & Alternate HTTP Providers</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_server.html" title="RESTful Server">RESTful Server</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_server.html" title="Using RESTful Server">Using RESTful Server</a></li>
											<li ><a href="doc_rest_operations.html" title="RESTful Operations">RESTful Operations</a></li>
											<li ><a href="doc_narrative.html" title="Narrative Generator">Narrative Generator</a></li>
											<li ><a href="doc_rest_server_interceptor.html" title="Interceptors (server)">Interceptors (server)</a></li>
											<li ><a href="doc_rest_server_security.html" title="Security">Security</a></li>
											<li ><a href="doc_cors.html" title="CORS Support">CORS Support</a></li>
											<li ><a href="doc_server_tester.html" title="Web Testing UI">Web Testing UI</a></li>
											<li ><a href="doc_rest_server_jaxrs.html" title="JAX-RS Support">JAX-RS Support</a></li>
										</ul>
									</li>
									<li ><a href="doc_logging.html" title="Logging">Logging</a></li>
									<li ><a href="doc_rest_etag.html" title="ETags">ETags</a></li>
									<li ><a href="doc_jpa.html" title="JPA/Database Server">JPA/Database Server</a></li>
									<li ><a href="doc_android.html" title="Android Support">Android Support</a></li>
									<li class="dropdown-submenu ">
										<a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
										<ul class="dropdown-menu">
											<li ><a href="apidocs/index.html" title="Core API">Core API</a></li>
											<li ><a href="apidocs-dstu/index.html" title="Model API (DSTU1)">Model API (DSTU1)</a></li>
											<li ><a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a></li>
											<li ><a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a></li>
											<li ><a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a></li>
										</ul>
									</li>
									<li ><a href="doc_cli.html" title="Command Line Tool (hapi-fhir-cli)">Command Line Tool (hapi-fhir-cli)</a></li>
									<li ><a href="doc_tinder.html" title="Maven Plugin (hapi-tinder-plugin)">Maven Plugin (hapi-tinder-plugin)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-support"></i>&nbsp;Get Help&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a></li>
									<li ><a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a></li>
									<li ><a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a></li>
									<li ><a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Test Server <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="http://fhirtest.uhn.ca" title="Public Test Server" class="externalLink">Public Test Server</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<div>
			<ul class="breadcrumb">
				<li><a href="index.html" title="HAPI FHIR">HAPI FHIR</a></li>
				<li  class="divider">/</li>
			<li><a href="docindex.html" title="Documentation">Documentation</a></li>
			<li  class="divider">/</li>
				<li>Validation</li>
				<li class="publishDate version-date pull-right">Last Published: 2017-03-18</li>
				<li class="divider pull-right">|</li>
				<li class="projectVersion version-date pull-right">Version: 2.3</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="Validation">Validation</h2>
 </div> 
 <p> HAPI supportes two types of validation, both of which are described in the sections below. </p> 
 <ul> 
  <li> <b>Parser Validation</b> is validation at runtime during the parsing of a resource. It can be used to catch input data that is impossible to fit into the HAPI data model. For example, it can be used to throw exceptions or display error messages if a resource being parsed contains elements for which there are no appropriate fields in a HAPI data structure. This is useful in order to ensure that no data is being lost during parsing, but is less comprehensive than resource validation against raw text data. </li> 
  <li> <b>Resource Validation</b> is validation of the raw or parsed resource against the official FHIR validation rules (e.g. Schema/Schematron/Profile/StructureDefinition/ValueSet) as well as against custom profiles which have been developed. </li> 
 </ul> 
</div> 
<!-- Parser Validation --> 
<div class="section"> 
 <h2 id="Parser_Validation">Parser Validation</h2> 
 <p> Parser validation is controlled by calling <tt>setParserErrorHandler(IParserErrorHandler)</tt> on either the FhirContext or on individual parser instances. This method takes an <tt>IParserErrorHandler</tt> , which is a callback that will be invoked any time a parse issue is detected. </p> 
 <p> There are two implementations of <tt>IParserErrorHandler</tt> worth mentioning. You can also supply your own implementation if you want. </p> 
 <ul> 
  <li> <a href="./apidocs/ca/uhn/fhir/parser/LenientErrorHandler.html">LenientErrorHandler</a> logs any errors but does not abort parsing. By default this handler is used, and it logs errors at &quot;warning&quot; level. It can also be configured to silently ignore issues. </li> 
  <li> <a href="./apidocs/ca/uhn/fhir/parser/StrictErrorHandler.html">StrictErrorHandler</a> throws a <tt>DataFormatException</tt> if any errors are detected. </li> 
 </ul> 
 <p> The following example shows how to configure a parser to use strict validation. </p> 
 <div class="source"> 
  <pre>      FhirContext ctx = FhirContext.forDstu2();
      
      // Create a parser and configure it to use the strict error handler
      IParser parser = ctx.newXmlParser();
      parser.setParserErrorHandler(new StrictErrorHandler());

      // This example resource is invalid, as Patient.active can not repeat
      String input = &quot;&lt;Patient&gt;&lt;active value=\&quot;true\&quot;/&gt;&lt;active value=\&quot;false\&quot;/&gt;&lt;/Patient&gt;&quot;;

      // The following will throw a DataFormatException because of the StrictErrorHandler
      parser.parseResource(Patient.class, input);
</pre> 
 </div> 
 <p> You can also configure the error handler at the FhirContext level, which is useful for clients. </p> 
 <div class="source"> 
  <pre>FhirContext ctx = FhirContext.forDstu2();

ctx.setParserErrorHandler(new StrictErrorHandler());

// This client will have strict parser validation enabled
IGenericClient client = ctx.newRestfulGenericClient(&quot;http://fhirtest.uhn.ca/baseDstu2&quot;);
</pre> 
 </div> 
 <p> FhirContext level validators can also be useful on servers. </p> 
 <div class="source"> 
  <pre>   public class MyRestfulServer extends RestfulServer {

      @Override
      protected void initialize() throws ServletException {
         // ...Configure resource providers, etc... 
         
         // Create a context, set the error handler and instruct
         // the server to use it
         FhirContext ctx = FhirContext.forDstu2();
         ctx.setParserErrorHandler(new StrictErrorHandler());
         setFhirContext(ctx);
      }
      
   }
</pre> 
 </div> 
</div> 
<!-- RESOURCE VALIDATION --> 
<div class="section"> 
 <h2 id="Resource_Validation">Resource Validation</h2> 
 <p> HAPI provides a built-in and configurable mechanism for validating resources. This mechanism is called the <i>Resource Validator.</i> </p> 
 <p> The resource validator is an extendible and modular system, and you can configure it in a number of ways in order to get the specific type of validation you want to achieve. </p> 
 <p> The validator can be manually invoked at any time by creating a validator and configuring it with one or more <a href="./apidocs/ca/uhn/fhir/validation/IValidatorModule.html">IValidatorModule</a> instances. </p> 
 <div class="source"> 
  <pre>FhirContext ctx = FhirContext.forDstu2();

// Ask the context for a validator
FhirValidator validator = ctx.newValidator();

// Create some modules and register them 
IValidatorModule module1 = new SchemaBaseValidator(ctx);
validator.registerValidatorModule(module1);
IValidatorModule module2 = new SchematronBaseValidator(ctx);
validator.registerValidatorModule(module2);

// Pass a resource in to be validated. The resource can
// be an IBaseResource instance, or can be a raw String
// containing a serialized resource as text.
Patient resource = new Patient();
ValidationResult result = validator.validateWithResult(resource);
String resourceText = &quot;&lt;Patient.....&gt;&quot;;
ValidationResult result2 = validator.validateWithResult(resourceText);

// The result object now contains the validation results
for (SingleValidationMessage next : result.getMessages()) {
   System.out.println(next.getLocationString() + &quot; &quot; + next.getMessage());
}
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Resource_Validation_Module_SchemaSchematron">Resource Validation Module: Schema/Schematron</h2> 
 <p> FHIR resource definitions are distributed with a set of XML schema files (XSD) as well as a set of XML Schematron (SCH) files. These two sets of files are complimentary to each other, meaning that in order to claim compliance to the FHIR specification, your resources must validate against both sets. </p> 
 <p> The two sets of files are included with HAPI, and it uses them to perform validation. </p> 
 <div class="section"> 
  <h3 id="Preparation">Preparation</h3> 
  <p> In order to use HAPI's Schematron support, a libaray called <a class="externalLink" href="https://code.google.com/p/phloc-schematron/">Phloc-Schematron</a> is used, so this library must be added to your classpath (or Maven POM file, Gradle file, etc.) Note that this library is specified as an optional dependency by HAPI FHIR so you need to explicitly include it if you want to use this functionality. </p> 
  <p> See <a href="./download.html">Downloads</a> for more information on how to add it. </p> 
 </div> 
 <div class="section"> 
  <h3 id="Validating_a_Resource">Validating a Resource</h3> 
  <p> To validate a resource instance, a new validator instance is requested from the FHIR Context. This validator is then applied against a specific resource instance, as shown in the example below. </p> 
  <div class="source"> 
   <pre>      // As always, you need a context
      FhirContext ctx = FhirContext.forDstu2();

      // Create and populate a new patient object
      Patient p = new Patient();
      p.addName().addFamily(&quot;Smith&quot;).addGiven(&quot;John&quot;).addGiven(&quot;Q&quot;);
      p.addIdentifier().setSystem(&quot;urn:foo:identifiers&quot;).setValue(&quot;12345&quot;);
      p.addTelecom().setSystem(ContactPointSystemEnum.PHONE).setValue(&quot;416 123-4567&quot;);

      // Request a validator and apply it
      FhirValidator val = ctx.newValidator();

      // Create the Schema/Schematron modules and register them. Note that
      // you might want to consider keeping these modules around as long-term
      // objects: they parse and then store schemas, which can be an expensive
      // operation.
      IValidatorModule module1 = new SchemaBaseValidator(ctx);
      IValidatorModule module2 = new SchematronBaseValidator(ctx);
      val.registerValidatorModule(module1);
      val.registerValidatorModule(module2);

      ValidationResult result = val.validateWithResult(p);
      if (result.isSuccessful()) {
         
         System.out.println(&quot;Validation passed&quot;);
         
      } else {
         // We failed validation!
         System.out.println(&quot;Validation failed&quot;);
      }
      
      // The result contains a list of &quot;messages&quot; 
      List&lt;SingleValidationMessage&gt; messages = result.getMessages();
      for (SingleValidationMessage next : messages) {
         System.out.println(&quot;Message:&quot;);
         System.out.println(&quot; * Location: &quot; + next.getLocationString());
         System.out.println(&quot; * Severity: &quot; + next.getSeverity());
         System.out.println(&quot; * Message : &quot; + next.getMessage());
      }
      
      // You can also convert the results into an OperationOutcome resource
      OperationOutcome oo = (OperationOutcome) result.toOperationOutcome();
      String results = ctx.newXmlParser().setPrettyPrint(true).encodeResourceToString(oo);
      System.out.println(results);
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Validating_a_Set_of_Files">Validating a Set of Files</h3> 
  <p> The following example shows how to load a set of resources from files on disk and validate each one. </p> 
  <div class="source"> 
   <pre>      FhirContext ctx = FhirContext.forDstu2();

      // Create a validator and configure it
      FhirValidator validator = ctx.newValidator();
      validator.setValidateAgainstStandardSchema(true);
      validator.setValidateAgainstStandardSchematron(true);

      // Get a list of files in a given directory
      String[] fileList = new File(&quot;/home/some/dir&quot;).list(new WildcardFileFilter(&quot;*.txt&quot;));
      for (String nextFile : fileList) {

         // For each file, load the contents into a string
         String nextFileContents = IOUtils.toString(new FileReader(nextFile));

         // Parse that string (this example assumes JSON encoding)
         IBaseResource resource = ctx.newJsonParser().parseResource(nextFileContents);

         // Apply the validation. This will throw an exception on the first
         // validation failure
         ValidationResult result = validator.validateWithResult(resource);
         if (result.isSuccessful() == false) {
            throw new Exception(&quot;We failed!&quot;);
         }
         
      }

</pre> 
  </div> 
 </div> 
 <a name="structure_definition_validation"></a> 
</div> 
<div class="section"> 
 <h2 id="Resource_Validation_ProfileStructureDefinition">Resource Validation (Profile/StructureDefinition)</h2> 
 <p> As of HAPI FHIR 1.2, HAPI supports validation against StructureDefinition resources. This functionality uses the HL7 &quot;InstanceValidator&quot;, which is able to check a resource for conformance to a given profile (StructureDefinitions and ValueSets), including validating fields, extensions, and codes for conformance to their given ValueSets. </p> 
 <p> StructureDefinition validation can be used to validate a resource against the official structure definitions (produced by HL7) as well as against custom definitions provided either by HL7 or by the user. </p> 
 <p class="doc_info_bubble"> This style of validation is still experimental, and should be used with caution. It is very powerful, but is still under active development and may continue to change over time. </p> 
 <div class="section"> 
  <h3 id="Preparation">Preparation</h3> 
  <p> To use this functionality, you must add the following two dependencies to your classpath (or Maven POM file, Gradle file, etc.): </p> 
  <ul> 
   <li> 
    <!-- TODO: add search.maven.org links to these --> <b>hapi-fhir-structures-hl7org-dstu2</b> : This file contains the &quot;reference implementation&quot; structures and tooling. You need to include it even if you are not using the RI model (the StructureDefinition validation will work against HAPI structures as well) </li> 
   <li> <b>hapi-fhir-validation-resources-dstu2</b> : This file contains the official FHIR StructureDefinition files, and the ValueSets needed to support them. </li> 
  </ul> 
  <p> See the <a href="./download.html">download page</a> for more information. </p> 
 </div> 
 <div class="section"> 
  <h3 id="Running_the_Validator">Running the Validator</h3> 
  <p> To execute the validator, you simply create an instance of <a href="./apidocs-hl7org-dstu2/ca/uhn/fhir/validation/FhirInstanceValidator.html">FhirInstanceValidator</a> and register it to new validator, as shown in the example below. </p> 
  <p> Note that the example below uses the official FHIR StructureDefintions and ValueSets to validate the resource. It will not work unless you include the <tt>hapi-fhir-validation-resources-[version].jar</tt> to your classpath. </p> 
  <div class="source"> 
   <pre>      FhirContext ctx = FhirContext.forDstu2();

      // Create a FhirInstanceValidator and register it to a validator
      FhirValidator validator = ctx.newValidator();
      FhirInstanceValidator instanceValidator = new FhirInstanceValidator();
      validator.registerValidatorModule(instanceValidator);
      
      /*
       * Let's create a resource to validate. This Observation has some fields
       * populated, but it is missing Observation.status, which is mandatory.
       */
      Observation obs = new Observation();
      obs.getCode().addCoding().setSystem(&quot;http://loinc.org&quot;).setCode(&quot;12345-6&quot;);
      obs.setValue(new StringDt(&quot;This is a value&quot;));
      
      // Validate
      ValidationResult result = validator.validateWithResult(obs);
      
      // Do we have any errors or fatal errors?
      System.out.println(result.isSuccessful()); // false
      
      // Show the issues
      for (SingleValidationMessage next : result.getMessages()) {
         System.out.println(&quot; Next issue &quot; + next.getSeverity() + &quot; - &quot; + next.getLocationString() + &quot; - &quot; + next.getMessage());
      }
      // Prints:
      // Next issue ERROR - /f:Observation - Element '/f:Observation.status': minimum required = 1, but only found 0
      // Next issue WARNING - /f:Observation/f:code - Unable to validate code &quot;12345-6&quot; in code system &quot;http://loinc.org&quot;
      
      // You can also convert the result into an operation outcome if you 
      // need to return one from a server
      OperationOutcome oo = (OperationOutcome) result.toOperationOutcome();
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Supplying_your_own_StructureDefinitions">Supplying your own StructureDefinitions</h3> 
  <p> The FhirInstanceValidator relies on the <a href="./apidocs-hl7org-dstu2/ca/uhn/fhir/validation/IValidationSupport.html">IValidationSupport</a> interface to load StructureDefinitions, and validate codes. </p> 
  <p> By default, the <a href="./apidocs-hl7org-dstu2/ca/uhn/fhir/validation/DefaultProfileValidationSupport.html">DefaultProfileValidationSupport</a> implementation is used. This implementation loads the FHIR profiles from the validator resources JAR. If you want to use your own profiles, you may wish to supply your own implementation. </p> 
  <div class="source"> 
   <pre>      FhirContext ctx = FhirContext.forDstu2();

      // Create a FhirInstanceValidator and register it to a validator
      FhirValidator validator = ctx.newValidator();
      FhirInstanceValidator instanceValidator = new FhirInstanceValidator();
      validator.registerValidatorModule(instanceValidator);
      
      IValidationSupport valSupport = new IValidationSupport() {
         
         @Override
         public CodeValidationResult validateCode(FhirContext theContext, String theCodeSystem, String theCode, String theDisplay) {
            // TODO: Implement
            return null;
         }
         
         @Override
         public boolean isCodeSystemSupported(FhirContext theContext, String theSystem) {
            // TODO: Implement
            return false;
         }
         
         @Override
         public &lt;T extends IBaseResource&gt; T fetchResource(FhirContext theContext, Class&lt;T&gt; theClass, String theUri) {
            // TODO: Implement
            return null;
         }
         
         @Override
         public ValueSet fetchCodeSystem(FhirContext theContext, String theSystem) {
            // TODO: Implement
            return null;
         }

         @Override
         public ValueSetExpansionComponent expandValueSet(FhirContext theContext, ConceptSetComponent theInclude) {
            // TODO: Implement
            return null;
         }
      };
      
      /*
       * ValidationSupportChain strings multiple instances of IValidationSupport together. The
       * code below is useful because it means that when the validator wants to load a 
       * StructureDefinition or a ValueSet, it will first use DefaultProfileValidationSupport,
       * which loads the default HL7 versions. Any StructureDefinitions which are not found in
       * the built-in set are delegated to your custom implementation.
       */
      ValidationSupportChain support = new ValidationSupportChain(new DefaultProfileValidationSupport(), valSupport);
      instanceValidator.setValidationSupport(support);
   
</pre> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li><a href="#Validation" title="Validation">Validation</a>
		<li><a href="#Parser_Validation" title="Parser Validation">Parser Validation</a>
		<li><a href="#Resource_Validation" title="Resource Validation">Resource Validation</a>
		<li class="dropdown"><a href="#Resource_Validation_Module_SchemaSchematron" title="Resource Validation Module: Schema/Schematron">Resource Validation Module: Schema/Schematron <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Preparation" title="Preparation">Preparation</a>
		<li><a href="#Validating_a_Resource" title="Validating a Resource">Validating a Resource</a>
		<li><a href="#Validating_a_Set_of_Files" title="Validating a Set of Files">Validating a Set of Files</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Resource_Validation_ProfileStructureDefinition" title="Resource Validation (Profile/StructureDefinition)">Resource Validation (Profile/StructureDefinition) <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Preparation" title="Preparation">Preparation</a>
		<li><a href="#Running_the_Validator" title="Running the Validator">Running the Validator</a>
		<li><a href="#Supplying_your_own_StructureDefinitions" title="Supplying your own StructureDefinitions">Supplying your own StructureDefinitions</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">HAPI FHIR</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a>
						</li>
						<li >
							<a href="changes-report.html" title="Changelog">Changelog</a>
						</li>
						<li >
							<a href="license.html" title="License">License</a>
						</li>
						<li class="nav-header">Test Server</li>
						<li >
							<a href="http://fhirtest.uhn.ca" title="Public Test Server" class="externalLink">Public Test Server</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Using HAPI</li>
						<li >
							<a href="docindex.html" title="Documentation Index">Documentation Index</a>
						</li>
						<li >
							<a href="doc_cli.html" title="Command Line Tool (cli)">Command Line Tool (cli)</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="hacking_hapi_fhir.html" title="Guide to Hacking HAPI">Guide to Hacking HAPI</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">JavaDocs</li>
						<li >
							<a href="apidocs/index.html" title="Core API">Core API</a>
						</li>
						<li >
							<a href="apidocs-dstu/index.html" title="Model API (DSTU1)">Model API (DSTU1)</a>
						</li>
						<li >
							<a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a>
						</li>
						<li >
							<a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a>
						</li>
						<li >
							<a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a>
						</li>
						<li class="nav-header">JXR</li>
						<li >
							<a href="xref-base/index.html" title="Core">Core</a>
						</li>
						<li >
							<a href="xref-jpaserver/index.html" title="JPA Server">JPA Server</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Get Help</li>
						<li >
							<a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a>
						</li>
						<li >
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a>
						</li>
						<li >
							<a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a>
						</li>
						<li >
							<a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>HAPI FHIR is a Java implementation of the HL7 FHIR
				(Fast Healthcare Interoperable Resources) specification.
				This project is open source (licensed under the Apache Software
				License 2.0) and 100% free to use.<br/><br/>
				<a href="https://github.com/jamesagnew/hapi-fhir"><img src="./images/github-logo-mini.png" alt="Hosted on GitHub" border="0"/></a>
				<br/>
				Star us and we will love you!<br />
				<iframe src="https://ghbtns.com/github-btn.html?user=jamesagnew&repo=hapi-fhir&type=star&count=true" frameborder="0" scrolling="0" width="100px" height="20px"></iframe></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014-2017 <a href="http://www.uhn.ca">University Health Network</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>

	<script src="./js/reflow-skin.js"></script>

	<script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/^\s*\&lt\;/)) {
				pre.className = 'brush: xml';
			} else if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1395874-5', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
                </body >
</html>