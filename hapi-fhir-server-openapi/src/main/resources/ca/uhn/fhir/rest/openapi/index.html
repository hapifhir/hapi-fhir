<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Swagger UI</title>
    <link rel="stylesheet" type="text/css" href="./swagger-ui.css" />
    <link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16" />
    <style>
        html
        {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }

        *,
        *:before,
        *:after
        {
            box-sizing: inherit;
        }

        body
        {
            margin:0;
            background: #fafafa;
        }

        .scheme-container, .information-container
        {
            display: none
        }

        .banner {
            padding-top: 20px;
            padding-left: 25px;
            display: flex;
            flex-direction: row;
            background-color: #AAA;
            border-bottom: 2px solid #888;
        }

        .banner H1 {
            font-family: sans-serif;
            height: 150%;
            position: relative;
            line-height: 120%;
            top: 6px;
            left: 18px;
        }

        .banner .version {
            font-size: 30%;
            position: relative;
            top: -11px;
            background-color: #888;
            color: #FFF;
            padding: 5px;
            border-radius: 15px;
        }

        .banner2 {
            font-family: sans-serif;
            padding-top: 30px;
            padding-left: 30px;
            padding-right: 30px;
            padding-bottom: 20px;
            display: table;
            flex-direction: row;
            background-color: #CCC;
            border-bottom: 2px solid #888;
            width: 100%;
        }

        .banner2 > DIV {
            display: table-row;
        }

        .banner2 > DIV > DIV {
            display: table-cell;
            padding-bottom: 10px;
        }

        .banner2_key {
            min-width: 100px;
            white-space: nowrap;
            font-weight: bold;
        }

        .banner2_value {
            padding-left: 20px;
            width: 100%;
        }

        .banner3 {
            font-family: sans-serif;
            padding-top: 20px;
            padding-left: 30px;
            padding-right: 30px;
            padding-bottom: 20px;
            background-color: #EEE;
            border-bottom: 2px solid #888;
            width: 100%;
        }

        .pageButtons {
            display: flex;
            flex-wrap: wrap;
        }

        .pageButton {
            background-color: #FFF;
            color: #666;
            padding: 10px;
            margin: 5px;
            border-radius: 8px;
            text-decoration: none;
            line-height: 0.5em;
            border: 1px solid #FFF;
        }

        .pageButton:HOVER {
            border: 1px solid #888;
        }

        .pageButtonSelected {
            background-color: #888;
            color: #FFF;
        }

    </style>
</head>

<body>
<div class="container">
</div>
<div class="banner">
    <img src="./raccoon.png" style="height: 100px;"/>
    <h1>[[${SERVER_NAME}]]<br/><span class="version" th:text="${SERVER_VERSION}"></span></h1>
</div>
<div class="banner2">
    <div>
        <div class="banner2_key">FHIR Server Base URL</div><div class="banner2_value"><a th:href="${BASE_URL}" th:text="${BASE_URL}"></a></div>
    </div>
    <div>
        <div class="banner2_key">OpenAPI Docs</div><div class="banner2_value"><a th:href="${OPENAPI_DOCS}" th:text="${OPENAPI_DOCS}"></a></div>
    </div>
    <div>
        <div class="banner2_key">FHIR Version</div><div class="banner2_value">[[${FHIR_VERSION}]] ([[${FHIR_VERSION_CODENAME}]])</div>
    </div>
</div>
<div class="banner3">
    <div class="pageButtons">
        <a class="pageButton" th:each="pageName : ${PAGE_NAMES}" th:text="${pageName}" th:classappend="${pageName} == ${PAGE} ? 'pageButtonSelected' : ''" th:href="@{/swagger-ui/(page=${pageName})}"></a>
    </div>

</div>
<div id="swagger-ui"></div>

<script src="./swagger-ui-bundle.js" charset="UTF-8"> </script>
<script src="./swagger-ui-standalone-preset.js" charset="UTF-8"> </script>
<script>
    window.onload = function() {
        // Begin Swagger UI call region
        const ui = SwaggerUIBundle({
            url: "[[@{/api-docs(page=${PAGE})}]]",
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                // SwaggerUIBundle.plugins.DownloadUrl
            ],
            // layout: "StandaloneLayout"
        });
        // End Swagger UI call region

        window.ui = ui;
    };
</script>
</body>
</html>
