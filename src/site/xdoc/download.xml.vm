<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">

	<properties>
		<title>Download</title>
	</properties>

	<head>
	</head>

	<body>

		<section name="FHIR Versions">
			<p>
				The following table shows the various versions of the HAPI FHIR library, and
				the versions of the FHIR standard that they support. Note that support for
				stable releases of FHIR are shown in 
				<span style="background: #CEC; padding: 3px;">GREEN</span> 
				and support for draft pre-release versions of FHIR are shown in 
				<span style="background: #EEB; padding: 3px;">YELLOW</span>.
			</p>
			<p>
				Note also that after the release of the FHIR DSTU2 specification, the FHIR
				standard itself stopped using the DSTUx naming scheme, in favour or naming
				new releases STUx or simply Rx. Because HAPI FHIR already had draft support
				for what was then called DSTU3 at this time, we did not update our naming
				conventions until R4 in order to avoid breaking existing users' code.
				From the perspective of a user of HAPI FHIR, consider the terms
				DSTU3 / STU3 / R3 to be interchangeable.
			</p>
			<table>
				<thead>
					<tr>
						<td><b>HAPI Version</b></td>
						<td><b>Min JDK</b></td>
						<td><b>DSTU1</b></td>
						<td><b>DSTU2</b></td>
						<td><b>DSTU2.1</b></td>
						<td><b>DSTU3</b></td>
						<td><b>R4</b></td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>HAPI FHIR 1.1</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #EEB;">0.5.0-5843</td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 1.2</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #EEB;">0.5.0-5843</td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 1.3</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 1.4</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #EEB;">1.3.0-7602</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 1.5</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #EEB;">1.4.0-8138</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 1.6</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #EEB;">1.4.0-8636</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.0</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #EEB;">1.6.0-9663</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.1</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #DDD;"></td>
						<td style="background: #EEB;">1.7.0-10129</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.2</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #EEB;">1.8.0-10528</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.3</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #EEB;">1.9.0-11501</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.4</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 2.5</td>
						<td>JDK6</td>
						<td style="background: #CEC;">0.0.82</td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #DDD;"></td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.0.0</td>
						<td>JDK7</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.1.0-12370</td>
						</tr>
					<tr>
						<td>HAPI FHIR 3.1.0</td>
						<td>JDK7</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.1.0-12370</td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.2.0</td>
						<td>JDK7</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.2.0-12917</td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.3.0</td>
						<td>JDK7</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.2.0-13271</td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.4.0</td>
						<td>JDK8</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.4.0-13732</td>
					</tr>
						<tr>
						<td>HAPI FHIR 3.5.0</td>
						<td>JDK8</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.4.0-13732</td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.6.0</td>
						<td>JDK8</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #EEB;">3.6.0-1202b2eed0f</td>
					</tr>
					<tr>
						<td>HAPI FHIR 3.7.0-SNAPSHOT</td>
						<td>JDK8</td>
						<td style="background: #DDD;"></td>
						<td style="background: #CEC;">1.0.2</td>
						<td style="background: #EEB;">1.4.0</td>
						<td style="background: #CEC;">3.0.1</td>
						<td style="background: #CEC;">4.0.0</td>
					</tr>
		</tbody>
			</table>

		</section>
		
 		<section name="HAPI FHIR Modules">
			<p>
				The following table shows the modules that make up the HAPI
				FHIR library.
			</p>
			<table class="">
				<tbody>
					<tr><td colspan="2" style="text-align: center; font-size: 1.2em; background: #DDE; padding: 3px;">Core Libraries</td></tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-base</td>
						<td>
							This is the core HAPI FHIR library and is always required in order to use
							the framework. It contains the context, parsers, and other support classes.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-utilities</td>
						<td>
							This is a support library containing various utility methods for working with
							FHIR. It is always required in order to use the framework.
						</td>
					</tr>
					<tr><td style="text-align: center; font-size: 1.2em; background: #DDE; padding: 3px;" colspan="2">Structures</td></tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-structures-dstu</td>
						<td>
							This module contains FHIR DSTU1 model classes. It was retired in HAPI FHIR 3.0.0.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-structures-dstu2</td>
						<td>
							This module contains FHIR DSTU2 model classes.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-structures-hl7org-dstu2</td>
						<td>
							This module contains alternate FHIR DSTU2 model classes. The HAPI FHIR and FHIR "Java Reference Implementation"
							libraries were merged in 2015, and at the time there were two parallel sets of DSTU2 model 
							classes. This set more closely resembles the model classes for DSTU3+ where the other set
							more closely resembles the DSTU1 model classes. The two DSTU2 model JARs are functionally
							identital, but the various utility methods on the classes are somewhat different.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-structures-dstu3</td>
						<td>
							This module contains FHIR DSTU3 model classes.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-structures-r4</td>
						<td>
							This module contains FHIR R4 model classes.
						</td>
					</tr>
					<tr><td style="text-align: center; font-size: 1.2em; background: #DDE; padding: 3px;" colspan="2">Client Framework</td></tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-client</td>
						<td>
							This module contains the core FHIR client framework, including an 
							HTTP implementation based on 
							<a href="https://hc.apache.org/">Apache HttpClient</a>. It is required in order
							to use client functionality in HAPI.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-client-okhttp</td>
						<td>
							This module contains an alternate HTTP implementation based on
							<a href="http://square.github.io/okhttp/">OKHTTP</a>.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-android</td>
						<td>
							This module contains the Android HAPI FHIR framework, which is a FHIR
							client framework which has been tailed specifically to run on Android.
						</td>
					</tr>
					<tr><td style="text-align: center; font-size: 1.2em; background: #DDE; padding: 3px;" colspan="2">Validation</td></tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-validation</td>
						<td>
							This module contains the FHIR Profile Validator, which is used to 
							validate resource instances against FHIR Profiles (StructureDefinitions,
							ValueSets, CodeSystems, etc.).
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-validation-resources-dstu2</td>
						<td>
							This module contains the StructureDefinitions, ValueSets, CodeSystems, Schemas, 
							and Schematrons for FHIR DSTU2
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-validation-resources-dstu2.1</td>
						<td>
							This module contains the StructureDefinitions, ValueSets, CodeSystems, Schemas, 
							and Schematrons for FHIR DSTU2.1
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-validation-resources-dstu3</td>
						<td>
							This module contains the StructureDefinitions, ValueSets, CodeSystems, Schemas, 
							and Schematrons for FHIR DSTU3
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-validation-resources-r4</td>
						<td>
							This module contains the StructureDefinitions, ValueSets, CodeSystems, Schemas, 
							and Schematrons for FHIR R4
						</td>
					</tr>
					<tr><td style="text-align: center; font-size: 1.2em; background: #DDE; padding: 3px;" colspan="2">Server</td></tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-server</td>
						<td>
							This module contains the HAPI FHIR Server framework, which can be used to 
							develop FHIR compliant servers against your own data storage layer.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-jpaserver-base</td>
						<td>
							This module contains the HAPI FHIR "JPA Server", which is a complete 
							FHIR server solution including a database and implementations of many 
							advanced FHIR server features.
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold; white-space: nowrap;">hapi-fhir-testpage-overlay</td>
						<td>
							This module contains the web based "testpage overlay", which is the 
							UI that powers our 
							<a href="http://fhirtest.uhn.ca">Public Demo Server</a>
							and can also be added to your applications.
						</td>
					</tr>
				</tbody>
			</table>
		</section>

		<section name="Downloading HAPI FHIR">
			<p>
				If you are developing applications in Java, the easiest way to use HAPI is
				to use a build system which handles dependency management automatically. The
				two most common such systems are
				<a href="http://maven.apache.org">Apache Maven</a> and
				<a href="https://gradle.org/">Gradle</a>. These systems will automatically
				download "dependency" libraries and add them to your classpath.
				If you are <b>not</b> using one of these systems, you can still manually download
				the latest release of HAPI by looking in the
				<a href="https://github.com/jamesagnew/hapi-fhir/releases">GitHub Release Section</a>.
			</p>

			<subsection name="Note on &quot;snapshot&quot; (pre-release) builds">
				<p>
					FHIR is a fast moving specification, and there is a lot of ongoing work
					in HAPI as well. While we regularly put out new releases, there may be
					times when you want to try out the latest unreleased version. You can ususally
					look at the source of the
					<a href="https://github.com/jamesagnew/hapi-fhir/blob/master/src/changes/changes.xml">changes report</a>
					to get a sense of what has changed in the next unreleased version.
				</p>
				<p>
					See <a href="#Using_Snapshot_Builds">using snapshot builds</a> below to find out
					how to get these builds.
				</p>
			</subsection>

		</section>

		<section name="Maven Users">
			<p>
				To use HAPI in your application, at a minimum you need to include the HAPI-FHIR core
				JAR <code>hapi-fhir-base-[version].jar</code>, as well as at least one "structures" JAR.
				The structures JAR contains classes with the resource and datatype definitions for a given
				version of FHIR.
			</p>

			<subsection name="DSTU2 Resources - HAPI Structures">

				<p>
					HAPI also has a <code>hapi-fhir-structures-dstu2-[version].jar</code>, which
					contains the latest versions of the releases. You can include this JAR on
					your classpath if you want to use resources that were created or updated by
					HL7 after the DSTU1 release. Be warned though that using these resources
					<b>can lead to incompatibility</b> between your application and other applications
					if those applications are designed to be compliant with FHIR DSTU1.
				</p>

				<p>
					If you are using Maven, add the following dependency to include DSTU2 resources.
					Note that if you do not need to support DSTU1 resources, you do not need to
					include the "hapi-fhir-structures-dstu" artifact.
				</p>
			<source><![CDATA[<dependency>
   <groupId>ca.uhn.hapi.fhir</groupId>
   <artifactId>hapi-fhir-structures-dstu2</artifactId>
   <version>${project.version}</version>
</dependency>]]></source>

			</subsection>

			<subsection name="DSTU2 Resources - HL7.org Structures">

				<p>
					To use the HL7.org reference implementation structures
					(see the <a href="./doc_dstu2.html">DSTU2 page</a> for more information),
					use the following dependency.
				</p>
			<source><![CDATA[<dependency>
   <groupId>ca.uhn.hapi.fhir</groupId>
   <artifactId>hapi-fhir-structures-hl7org-dstu2</artifactId>
   <version>${project.version}</version>
</dependency>]]></source>

				<p>
					If you want to use HAPI's
					<a href="./doc_validation.html#structure_definition_validation">StructureDefinition validation</a>
					you will also need to include the <code>hapi-fhir-validation-resources-dstu2-[version].jar</code>:
				</p>
			<source><![CDATA[<dependency>
   <groupId>ca.uhn.hapi.fhir</groupId>
   <artifactId>hapi-fhir-validation-resources-dstu2</artifactId>
   <version>${project.version}</version>
</dependency>]]></source>

			</subsection>

		</section>

		<section name="Gradle Users">
			<p>
				If you are using Gradle, you may use the following dependencies. Note that if
				you are doing Android development, you may want to use our
				<a href="./doc_android.html">Android build</a> instead.
			</p>
			<p>
				DSTU1:
			</p>
			<source><![CDATA[compile 'ca.uhn.hapi.fhir:hapi-fhir-base:${project.version}'
compile 'ca.uhn.hapi.fhir:hapi-fhir-structures-dstu:${project.version}']]></source>
			<p>
				DSTU2 (HAPI):
			</p>
			<source><![CDATA[compile 'ca.uhn.hapi.fhir:hapi-fhir-base:${project.version}'
compile 'ca.uhn.hapi.fhir:hapi-fhir-structures-dstu2:${project.version}']]></source>
			<p>
				DSTU2 (RI):
			</p>
			<source><![CDATA[compile 'ca.uhn.hapi.fhir:hapi-fhir-base:${project.version}'
compile 'ca.uhn.hapi.fhir:hapi-fhir-structures-hl7org-dstu2:${project.version}'
compile 'ca.uhn.hapi.fhir:hapi-fhir-validation-resources-dstu2:${project.version}']]></source>
		</section>

		<section name="Using Snapshot Builds">

			<p>
				Snapshot builds of HAPI are pre-release builds which can contain
				fixes and new features not yet released in a formal release. To use
				snapshot builds of HAPI you may need to add a reference to the OSS snapshot
				repository to your project build file.
			</p>
			<p>
				<b>Using Maven:</b>
			</p>

			<source><![CDATA[<repositories>
   <repository>
      <id>oss-snapshots</id>
      <snapshots>
         <enabled>true</enabled>
      </snapshots>
      <url>https://oss.sonatype.org/content/repositories/snapshots/</url>
   </repository>
</repositories>]]></source>

			<p>
				<b>Using Gradle:</b>
			</p>
			<source><![CDATA[repositories {
   mavenCentral()
   maven {
      url "https://oss.sonatype.org/content/repositories/snapshots"
   }
}]]></source>

		</section>

		<section name="Dependencies">

			<p>
				The HAPI-FHIR library depends on other libraries to provide specific functionality.
				Some of those libraries are listed here:
			</p>

			<subsection name="Logging (SLF4j, Logback, etc.)">

				<p>
					HAPI requires SLF4j for logging support, and it is recommended to include
					an underlying logging framework such as Logback. See the
					<a href="./doc_logging.html">logging documentation</a> for
					more information.
				</p>

			</subsection>

			<subsection name="StAX / Woodstox">

				<p>
					XML processing (for resource marshalling and unmarshalling) uses the
					Java StAX API, which is a fast and efficient API for XML processing.
					HAPI bundles (for release archives) and depends on (for Maven builds)
					the <a href="http://woodstox.codehaus.org/">Woodstox</a> library, which
					is a good implementation of StAX.
				</p>
				<p>
					Upon starting up, HAPI will emit a log line indicating which StAX implementation
					is being used, e.g:
				</p>
				<source>08:01:32.044 [main] INFO  ca.uhn.fhir.util.XmlUtil - FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.0'</source>
				<p>
					Although most testing is done using the Woodstox implementation of
					StAX, it is not required and HAPI should work correctly with any
					compliant implementation of StAX.
				</p>
				<p>
					You can force Woodstox in an environment where multiple StAX libraries are
					present by setting the following system properties:
				</p>
				<source>System.setProperty("javax.xml.stream.XMLInputFactory", "com.ctc.wstx.stax.WstxInputFactory");
System.setProperty("javax.xml.stream.XMLOutputFactory", "com.ctc.wstx.stax.WstxOutputFactory");
System.setProperty("javax.xml.stream.XMLEventFactory", "com.ctc.wstx.stax.WstxEventFactory");</source>

			</subsection>

			<subsection name="Ph-Schematron">

				<p>
					If you are using the
					<a href="./doc_validation.html">Schematron Validatioon</a>
					module, you will also need to include the Ph-Schematron library on your
					classpath. (Note that prior to HAPI FHIR 3.4.0 we used Phloc-Schamtron
					instead, but that lirary has been discontinued)
				</p>
				<p>
					If you are using Maven, this library is not added by default (it is
					marked as an optional dependency) since not all applications need Schematron
					support. As a result you will need to manually add the following
					dependencies to your project POM.xml
				</p>
				<source><![CDATA[<dependency>
	<groupId>com.helger</groupId>
	<artifactId>ph-schematron</artifactId>
	<version>${ph_schematron_version}</version>
</dependency>
<dependency>
	<groupId>com.helger</groupId>
	<artifactId>ph-commons</artifactId>
	<version>${ph_commons_version}</version>
</dependency>]]></source>
			</subsection>


		</section>

	</body>

</document>
